<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: UmlClassDiagram Pages: 1 -->
<svg width="724pt" height="1273pt"
 viewBox="0.00 0.00 723.60 1272.60" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1268.6)">
<title>UmlClassDiagram</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-1268.6 719.6028,-1268.6 719.6028,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="0,-786.5 0,-1264.1 496.2126,-1264.1 496.2126,-786.5 0,-786.5"/>
<text text-anchor="middle" x="248.1063" y="-1247.5" font-family="Times,serif" font-size="14.00" fill="#000000">Access</text>
<polyline fill="none" stroke="#000000" points="0,-1239.3 496.2126,-1239.3 "/>
<text text-anchor="start" x="8" y="-1222.7" font-family="Times,serif" font-size="14.00" fill="#000000">Private:</text>
<text text-anchor="start" x="8" y="-1205.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;_paymentContract: address</text>
<text text-anchor="start" x="8" y="-1189.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;_owner: address</text>
<text text-anchor="start" x="8" y="-1172.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;_accessManagement: mapping(uint256=&gt;mapping(address=&gt;AccessDetails))</text>
<polyline fill="none" stroke="#000000" points="0,-1164.1 496.2126,-1164.1 "/>
<text text-anchor="start" x="8" y="-1147.5" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="8" y="-1130.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_giveAccess(_service: uint256, _client: address, _expirationDate: uint248)</text>
<text text-anchor="start" x="8" y="-1113.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_retrieveAccess(_service: uint256, _client: address)</text>
<text text-anchor="start" x="8" y="-1097.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_getCurrentTime(): uint256</text>
<text text-anchor="start" x="8" y="-1080.3" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="8" y="-1063.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;giveAccess(_service: uint256, _client: address, _expirationDate: uint248)</text>
<text text-anchor="start" x="8" y="-1046.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;retrieveAccess(_service: uint256, _client: address)</text>
<text text-anchor="start" x="8" y="-1029.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;verifyAccess(_service: uint256, _client: address)</text>
<text text-anchor="start" x="8" y="-1013.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setPaymentContract(_newPaymentContract: address)</text>
<text text-anchor="start" x="8" y="-996.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getAccess(_service: uint256, _client: address): bool</text>
<text text-anchor="start" x="8" y="-979.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getExpirationDate(_service: uint256, _client: address): uint256</text>
<text text-anchor="start" x="8" y="-962.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getOwner(): address</text>
<text text-anchor="start" x="8" y="-945.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getPaymentContract(): address</text>
<text text-anchor="start" x="8" y="-929.1" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="8" y="-912.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; AccessGiven(service: uint256, client: address, expirationDate: uint256)</text>
<text text-anchor="start" x="8" y="-895.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; AccessRetrieved(service: uint256, client: address)</text>
<text text-anchor="start" x="8" y="-878.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyManagers()</text>
<text text-anchor="start" x="8" y="-861.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; nonZeroAddress(_sender: address)</text>
<text text-anchor="start" x="8" y="-845.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; hasAccess(_service: uint256, _client: address)</text>
<text text-anchor="start" x="8" y="-828.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; hasNoAccess(_service: uint256, _client: address)</text>
<text text-anchor="start" x="8" y="-811.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; expirationDate(_date: uint256)</text>
<text text-anchor="start" x="8" y="-794.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor()</text>
</g>
<!-- 0struct0 -->
<g id="node2" class="node">
<title>0struct0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="171.8654,-401.9 171.8654,-485.1 324.3472,-485.1 324.3472,-401.9 171.8654,-401.9"/>
<text text-anchor="middle" x="248.1063" y="-468.5" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="248.1063" y="-451.7" font-family="Times,serif" font-size="14.00" fill="#000000">AccessDetails</text>
<polyline fill="none" stroke="#000000" points="171.8654,-443.5 324.3472,-443.5 "/>
<text text-anchor="start" x="179.8654" y="-426.9" font-family="Times,serif" font-size="14.00" fill="#000000">hasAccess: bool</text>
<text text-anchor="start" x="179.8654" y="-410.1" font-family="Times,serif" font-size="14.00" fill="#000000">expirationTime: uint248</text>
</g>
<!-- 0struct0&#45;&gt;0 -->
<g id="edge1" class="edge">
<title>0struct0&#45;&gt;0</title>
<path fill="none" stroke="#000000" d="M248.1063,-485.3416C248.1063,-546.1792 248.1063,-663.8276 248.1063,-773.8169"/>
<polygon fill="#000000" stroke="#000000" points="248.1064,-774.1509 252.1063,-780.1509 248.1063,-786.1509 244.1063,-780.1508 248.1064,-774.1509"/>
</g>
<!-- 1 -->
<g id="node3" class="node">
<title>1</title>
<polygon fill="#f2f2f2" stroke="#000000" points="342.6098,-137.5 342.6098,-749.5 715.6028,-749.5 715.6028,-137.5 342.6098,-137.5"/>
<text text-anchor="middle" x="529.1063" y="-732.9" font-family="Times,serif" font-size="14.00" fill="#000000">Payment</text>
<polyline fill="none" stroke="#000000" points="342.6098,-724.7 715.6028,-724.7 "/>
<text text-anchor="start" x="350.6098" y="-708.1" font-family="Times,serif" font-size="14.00" fill="#000000">Private:</text>
<text text-anchor="start" x="350.6098" y="-691.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;_servicesIndex: uint256</text>
<text text-anchor="start" x="350.6098" y="-674.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;_services: mapping(uint256=&gt;Service)</text>
<text text-anchor="start" x="350.6098" y="-657.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;_owner: address</text>
<text text-anchor="start" x="350.6098" y="-640.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;_accessContract: Access</text>
<polyline fill="none" stroke="#000000" points="342.6098,-632.7 715.6028,-632.7 "/>
<text text-anchor="start" x="350.6098" y="-616.1" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="350.6098" y="-599.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_payService(_id: uint256, _client: address)</text>
<text text-anchor="start" x="350.6098" y="-582.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_expirationTime(_freq: PaymentFreq): (_expTime: uint248)</text>
<text text-anchor="start" x="350.6098" y="-565.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_getCurrentTime(): uint248</text>
<text text-anchor="start" x="350.6098" y="-548.9" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="350.6098" y="-532.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;payable&gt;&gt; payService(_id: uint256)</text>
<text text-anchor="start" x="350.6098" y="-515.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;payable&gt;&gt; payServiceFrom(_id: uint256, _client: address)</text>
<text text-anchor="start" x="350.6098" y="-498.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;createService(_price: uint232, _freq: PaymentFreq)</text>
<text text-anchor="start" x="350.6098" y="-481.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;startService(_id: uint256)</text>
<text text-anchor="start" x="350.6098" y="-464.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;stopService(_id: uint256)</text>
<text text-anchor="start" x="350.6098" y="-448.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;changeServicePrice(_id: uint256, _price: uint232)</text>
<text text-anchor="start" x="350.6098" y="-431.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;changeServiceFreq(_id: uint256, _freq: PaymentFreq)</text>
<text text-anchor="start" x="350.6098" y="-414.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;changeAccessContract(_newAccessContract: address)</text>
<text text-anchor="start" x="350.6098" y="-397.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;withdrawFunds()</text>
<text text-anchor="start" x="350.6098" y="-380.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getNumberOfServices(): uint256</text>
<text text-anchor="start" x="350.6098" y="-364.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getService(_id: uint256): (bool, uint248, PaymentFreq)</text>
<text text-anchor="start" x="350.6098" y="-347.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getOwner(): address</text>
<text text-anchor="start" x="350.6098" y="-330.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getAccessContract(): address</text>
<text text-anchor="start" x="350.6098" y="-313.7" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="350.6098" y="-296.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; ServiceCreated(id: uint256, price: uint248)</text>
<text text-anchor="start" x="350.6098" y="-280.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; ServiceStarted(id: uint256)</text>
<text text-anchor="start" x="350.6098" y="-263.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; ServiceStoped(id: uint256)</text>
<text text-anchor="start" x="350.6098" y="-246.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyOwner()</text>
<text text-anchor="start" x="350.6098" y="-229.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; nonZeroAddress(_sender: address)</text>
<text text-anchor="start" x="350.6098" y="-212.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; serviceExists(_id: uint256)</text>
<text text-anchor="start" x="350.6098" y="-196.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; serviceRunning(_id: uint256)</text>
<text text-anchor="start" x="350.6098" y="-179.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; serviceStopped(_id: uint256)</text>
<text text-anchor="start" x="350.6098" y="-162.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; contractBalance()</text>
<text text-anchor="start" x="350.6098" y="-145.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor(accessContract_: address)</text>
</g>
<!-- 1&#45;&gt;0 -->
<g id="edge4" class="edge">
<title>1&#45;&gt;0</title>
<path fill="none" stroke="#000000" d="M381.2002,-749.7341C376.7378,-758.9734 372.2853,-768.192 367.861,-777.3524"/>
<polygon fill="#000000" stroke="#000000" points="364.6442,-775.9652 363.4466,-786.4922 370.9475,-779.0096 364.6442,-775.9652"/>
</g>
<!-- 1struct0 -->
<g id="node4" class="node">
<title>1struct0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="404.8177,-.5 404.8177,-100.5 525.3949,-100.5 525.3949,-.5 404.8177,-.5"/>
<text text-anchor="middle" x="465.1063" y="-83.9" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="465.1063" y="-67.1" font-family="Times,serif" font-size="14.00" fill="#000000">Service</text>
<polyline fill="none" stroke="#000000" points="404.8177,-58.9 525.3949,-58.9 "/>
<text text-anchor="start" x="412.8177" y="-42.3" font-family="Times,serif" font-size="14.00" fill="#000000">isActive: bool</text>
<text text-anchor="start" x="412.8177" y="-25.5" font-family="Times,serif" font-size="14.00" fill="#000000">price: uint232</text>
<text text-anchor="start" x="412.8177" y="-8.7" font-family="Times,serif" font-size="14.00" fill="#000000">freq: PaymentFreq</text>
</g>
<!-- 1struct0&#45;&gt;1 -->
<g id="edge2" class="edge">
<title>1struct0&#45;&gt;1</title>
<path fill="none" stroke="#000000" d="M473.277,-100.6729C474.5188,-108.2986 475.8711,-116.6025 477.3115,-125.4477"/>
<polygon fill="#000000" stroke="#000000" points="477.3251,-125.5317 482.2376,-130.8107 479.254,-137.3757 474.3416,-132.0967 477.3251,-125.5317"/>
</g>
<!-- 1enum0 -->
<g id="node5" class="node">
<title>1enum0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="542.9229,-.5 542.9229,-100.5 643.2897,-100.5 643.2897,-.5 542.9229,-.5"/>
<text text-anchor="middle" x="593.1063" y="-83.9" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;enum&gt;&gt;</text>
<text text-anchor="middle" x="593.1063" y="-67.1" font-family="Times,serif" font-size="14.00" fill="#000000">PaymentFreq</text>
<polyline fill="none" stroke="#000000" points="542.9229,-58.9 643.2897,-58.9 "/>
<text text-anchor="start" x="550.9229" y="-42.3" font-family="Times,serif" font-size="14.00" fill="#000000">ONETIME: 0</text>
<text text-anchor="start" x="550.9229" y="-25.5" font-family="Times,serif" font-size="14.00" fill="#000000">MONTHLY: 1</text>
<text text-anchor="start" x="550.9229" y="-8.7" font-family="Times,serif" font-size="14.00" fill="#000000">YEARLY: 2</text>
</g>
<!-- 1enum0&#45;&gt;1 -->
<g id="edge3" class="edge">
<title>1enum0&#45;&gt;1</title>
<path fill="none" stroke="#000000" d="M584.9356,-100.6729C583.6938,-108.2986 582.3415,-116.6025 580.9011,-125.4477"/>
<polygon fill="#000000" stroke="#000000" points="580.8875,-125.5317 583.871,-132.0967 578.9586,-137.3757 575.975,-130.8107 580.8875,-125.5317"/>
</g>
</g>
</svg>
