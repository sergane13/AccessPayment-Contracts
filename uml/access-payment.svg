<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: UmlClassDiagram Pages: 1 -->
<svg width="724pt" height="1256pt"
 viewBox="0.00 0.00 723.60 1255.80" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1251.8)">
<title>UmlClassDiagram</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-1251.8 719.6028,-1251.8 719.6028,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="0,-769.7 0,-1247.3 496.2126,-1247.3 496.2126,-769.7 0,-769.7"/>
<text text-anchor="middle" x="248.1063" y="-1230.7" font-family="Times,serif" font-size="14.00" fill="#000000">Access</text>
<polyline fill="none" stroke="#000000" points="0,-1222.5 496.2126,-1222.5 "/>
<text text-anchor="start" x="8" y="-1205.9" font-family="Times,serif" font-size="14.00" fill="#000000">Private:</text>
<text text-anchor="start" x="8" y="-1189.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;_paymentContract: address</text>
<text text-anchor="start" x="8" y="-1172.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;_owner: address</text>
<text text-anchor="start" x="8" y="-1155.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;_accessManagement: mapping(uint256=&gt;mapping(address=&gt;AccessDetails))</text>
<polyline fill="none" stroke="#000000" points="0,-1147.3 496.2126,-1147.3 "/>
<text text-anchor="start" x="8" y="-1130.7" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="8" y="-1113.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_giveAccess(_service: uint256, _client: address, _expirationDate: uint248)</text>
<text text-anchor="start" x="8" y="-1097.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_retrieveAccess(_service: uint256, _client: address)</text>
<text text-anchor="start" x="8" y="-1080.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_getCurrentTime(): uint256</text>
<text text-anchor="start" x="8" y="-1063.5" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="8" y="-1046.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;giveAccess(_service: uint256, _client: address, _expirationDate: uint248)</text>
<text text-anchor="start" x="8" y="-1029.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;retrieveAccess(_service: uint256, _client: address)</text>
<text text-anchor="start" x="8" y="-1013.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;verifyAccess(_service: uint256, _client: address)</text>
<text text-anchor="start" x="8" y="-996.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setPaymentContract(_newPaymentContract: address)</text>
<text text-anchor="start" x="8" y="-979.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getAccess(_service: uint256, _client: address): bool</text>
<text text-anchor="start" x="8" y="-962.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getExpirationDate(_service: uint256, _client: address): uint256</text>
<text text-anchor="start" x="8" y="-945.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getOwner(): address</text>
<text text-anchor="start" x="8" y="-929.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getPaymentContract(): address</text>
<text text-anchor="start" x="8" y="-912.3" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="8" y="-895.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; AccessGiven(service: uint256, client: address, expirationDate: uint256)</text>
<text text-anchor="start" x="8" y="-878.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; AccessRetrieved(service: uint256, client: address)</text>
<text text-anchor="start" x="8" y="-861.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyManagers()</text>
<text text-anchor="start" x="8" y="-845.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; nonZeroAddress(_sender: address)</text>
<text text-anchor="start" x="8" y="-828.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; hasAccess(_service: uint256, _client: address)</text>
<text text-anchor="start" x="8" y="-811.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; hasNoAccess(_service: uint256, _client: address)</text>
<text text-anchor="start" x="8" y="-794.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; expirationDate(_date: uint256)</text>
<text text-anchor="start" x="8" y="-777.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor()</text>
</g>
<!-- 0struct0 -->
<g id="node2" class="node">
<title>0struct0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="171.8654,-393.5 171.8654,-476.7 324.3472,-476.7 324.3472,-393.5 171.8654,-393.5"/>
<text text-anchor="middle" x="248.1063" y="-460.1" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="248.1063" y="-443.3" font-family="Times,serif" font-size="14.00" fill="#000000">AccessDetails</text>
<polyline fill="none" stroke="#000000" points="171.8654,-435.1 324.3472,-435.1 "/>
<text text-anchor="start" x="179.8654" y="-418.5" font-family="Times,serif" font-size="14.00" fill="#000000">hasAccess: bool</text>
<text text-anchor="start" x="179.8654" y="-401.7" font-family="Times,serif" font-size="14.00" fill="#000000">expirationTime: uint248</text>
</g>
<!-- 0struct0&#45;&gt;0 -->
<g id="edge1" class="edge">
<title>0struct0&#45;&gt;0</title>
<path fill="none" stroke="#000000" d="M248.1063,-476.7994C248.1063,-536.2915 248.1063,-650.2238 248.1063,-757.4114"/>
<polygon fill="#000000" stroke="#000000" points="248.1064,-757.4343 252.1063,-763.4343 248.1063,-769.4343 244.1063,-763.4343 248.1064,-757.4343"/>
</g>
<!-- 1 -->
<g id="node3" class="node">
<title>1</title>
<polygon fill="#f2f2f2" stroke="#000000" points="342.6098,-137.5 342.6098,-732.7 715.6028,-732.7 715.6028,-137.5 342.6098,-137.5"/>
<text text-anchor="middle" x="529.1063" y="-716.1" font-family="Times,serif" font-size="14.00" fill="#000000">Payment</text>
<polyline fill="none" stroke="#000000" points="342.6098,-707.9 715.6028,-707.9 "/>
<text text-anchor="start" x="350.6098" y="-691.3" font-family="Times,serif" font-size="14.00" fill="#000000">Private:</text>
<text text-anchor="start" x="350.6098" y="-674.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;_servicesIndex: uint256</text>
<text text-anchor="start" x="350.6098" y="-657.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;_services: mapping(uint256=&gt;Service)</text>
<text text-anchor="start" x="350.6098" y="-640.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;_owner: address</text>
<text text-anchor="start" x="350.6098" y="-624.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;_accessContract: Access</text>
<polyline fill="none" stroke="#000000" points="342.6098,-615.9 715.6028,-615.9 "/>
<text text-anchor="start" x="350.6098" y="-599.3" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="350.6098" y="-582.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_payService(_id: uint256, _client: address)</text>
<text text-anchor="start" x="350.6098" y="-565.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_expirationTime(_freq: PaymentFreq): (_expTime: uint248)</text>
<text text-anchor="start" x="350.6098" y="-548.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_getCurrentTime(): uint248</text>
<text text-anchor="start" x="350.6098" y="-532.1" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="350.6098" y="-515.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;payable&gt;&gt; payService(_id: uint256)</text>
<text text-anchor="start" x="350.6098" y="-498.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;payable&gt;&gt; payServiceFrom(_id: uint256, _client: address)</text>
<text text-anchor="start" x="350.6098" y="-481.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;createService(_price: uint232, _freq: PaymentFreq)</text>
<text text-anchor="start" x="350.6098" y="-464.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;startService(_id: uint256)</text>
<text text-anchor="start" x="350.6098" y="-448.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;changeServicePrice(_id: uint256, _price: uint232)</text>
<text text-anchor="start" x="350.6098" y="-431.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;changeServiceFreq(_id: uint256, _freq: PaymentFreq)</text>
<text text-anchor="start" x="350.6098" y="-414.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;changeAccessContract(_newAccessContract: address)</text>
<text text-anchor="start" x="350.6098" y="-397.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;withdrawFunds()</text>
<text text-anchor="start" x="350.6098" y="-380.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getNumberOfServices(): uint256</text>
<text text-anchor="start" x="350.6098" y="-364.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getService(_id: uint256): (bool, uint248, PaymentFreq)</text>
<text text-anchor="start" x="350.6098" y="-347.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getOwner(): address</text>
<text text-anchor="start" x="350.6098" y="-330.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getAccessContract(): address</text>
<text text-anchor="start" x="350.6098" y="-313.7" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="350.6098" y="-296.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; ServiceCreated(id: uint256, price: uint248)</text>
<text text-anchor="start" x="350.6098" y="-280.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; ServiceStarted(id: uint256)</text>
<text text-anchor="start" x="350.6098" y="-263.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; ServiceStoped(id: uint256)</text>
<text text-anchor="start" x="350.6098" y="-246.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyOwner()</text>
<text text-anchor="start" x="350.6098" y="-229.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; nonZeroAddress(_sender: address)</text>
<text text-anchor="start" x="350.6098" y="-212.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; serviceExists(_id: uint256)</text>
<text text-anchor="start" x="350.6098" y="-196.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; serviceRunning(_id: uint256)</text>
<text text-anchor="start" x="350.6098" y="-179.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; serviceStopped(_id: uint256)</text>
<text text-anchor="start" x="350.6098" y="-162.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; contractBalance()</text>
<text text-anchor="start" x="350.6098" y="-145.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor(accessContract_: address)</text>
</g>
<!-- 1&#45;&gt;0 -->
<g id="edge4" class="edge">
<title>1&#45;&gt;0</title>
<path fill="none" stroke="#000000" d="M383.2564,-732.7169C378.7461,-741.9204 374.2432,-751.1088 369.7663,-760.2443"/>
<polygon fill="#000000" stroke="#000000" points="366.5565,-758.8407 365.2988,-769.3606 372.8423,-761.9211 366.5565,-758.8407"/>
</g>
<!-- 1struct0 -->
<g id="node4" class="node">
<title>1struct0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="404.8177,-.5 404.8177,-100.5 525.3949,-100.5 525.3949,-.5 404.8177,-.5"/>
<text text-anchor="middle" x="465.1063" y="-83.9" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="465.1063" y="-67.1" font-family="Times,serif" font-size="14.00" fill="#000000">Service</text>
<polyline fill="none" stroke="#000000" points="404.8177,-58.9 525.3949,-58.9 "/>
<text text-anchor="start" x="412.8177" y="-42.3" font-family="Times,serif" font-size="14.00" fill="#000000">isActive: bool</text>
<text text-anchor="start" x="412.8177" y="-25.5" font-family="Times,serif" font-size="14.00" fill="#000000">price: uint232</text>
<text text-anchor="start" x="412.8177" y="-8.7" font-family="Times,serif" font-size="14.00" fill="#000000">freq: PaymentFreq</text>
</g>
<!-- 1struct0&#45;&gt;1 -->
<g id="edge2" class="edge">
<title>1struct0&#45;&gt;1</title>
<path fill="none" stroke="#000000" d="M473.4732,-100.7797C474.7194,-108.2689 476.0737,-116.4074 477.5141,-125.0633"/>
<polygon fill="#000000" stroke="#000000" points="477.5597,-125.3379 482.4904,-130.5998 479.5296,-137.1751 474.5989,-131.9131 477.5597,-125.3379"/>
</g>
<!-- 1enum0 -->
<g id="node5" class="node">
<title>1enum0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="542.9229,-.5 542.9229,-100.5 643.2897,-100.5 643.2897,-.5 542.9229,-.5"/>
<text text-anchor="middle" x="593.1063" y="-83.9" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;enum&gt;&gt;</text>
<text text-anchor="middle" x="593.1063" y="-67.1" font-family="Times,serif" font-size="14.00" fill="#000000">PaymentFreq</text>
<polyline fill="none" stroke="#000000" points="542.9229,-58.9 643.2897,-58.9 "/>
<text text-anchor="start" x="550.9229" y="-42.3" font-family="Times,serif" font-size="14.00" fill="#000000">ONETIME: 0</text>
<text text-anchor="start" x="550.9229" y="-25.5" font-family="Times,serif" font-size="14.00" fill="#000000">MONTHLY: 1</text>
<text text-anchor="start" x="550.9229" y="-8.7" font-family="Times,serif" font-size="14.00" fill="#000000">YEARLY: 2</text>
</g>
<!-- 1enum0&#45;&gt;1 -->
<g id="edge3" class="edge">
<title>1enum0&#45;&gt;1</title>
<path fill="none" stroke="#000000" d="M584.7394,-100.7797C583.4932,-108.2689 582.1389,-116.4074 580.6985,-125.0633"/>
<polygon fill="#000000" stroke="#000000" points="580.6529,-125.3379 583.6137,-131.9131 578.683,-137.1751 575.7222,-130.5998 580.6529,-125.3379"/>
</g>
</g>
</svg>
